//# I know... i know... im evil >:)
//# hostname "Valve Left4Dead 2 Chile Server (srcds1077-scl1.241.89)"

//# the true hostname
hostname "FF | Total Game Balance    & Multimods"

//# =======================================================================================
//#                 			Complementaries for all gamemodes
//# =======================================================================================

exec FF_botmanager.cfg              //# Bot Manager

//# =======================================================================================
//# 												Logging
//# =======================================================================================

log on                                   		//# Creates a logfile (on | off)
sv_logecho 0                             	//# default 0; Echo log information to the console.
sv_logfile 1                             	//# default 1; Log server information in the log file.
sv_log_onefile 0                         	//# default 0; Log server information to only one file.
sv_logbans 1                             	//# default 0;Log server bans in the server logs.
sv_logflush 0                            	//# default 0; Flush the log files to disk on each write (slow).
sv_logsdir logs                          	//# Folder in the game directory where server logs will be stored.

//# =======================================================================================
//# 											Server - Main
//# =======================================================================================

//# Not used for now... But it is a DownloadUrl for FastDL
//# sm_cvar sv_downloadurl "http://181.230.240.100/left4dead2/left4dead2/"

//# Allow connections without creating lobby (connect IP:PORT)
sm_cvar sv_allow_lobby_connect_only 0

//# Must be set for Direct Connect into server. (1)
sm_cvar sv_hosting_lobby "1"

sm_cvar sv_allowupload "1"
sm_cvar sv_allowdownload "1"
sm_cvar cl_allowdownload "1"
sm_cvar cl_allowupload "1"
sm_cvar sv_pausable 1
sm_cvar sv_consistency 0
sm_cvar sv_pure_kick_clients 0
sm_cvar sv_force_unreserved 1

sm_cvar precache_all_survivors 1          //# Precache all the survivors
sm_cvar sv_forcepreload 1                    //# Pre-loading is always a good thing, force pre-loading on all clients.

//# Bans all the users you banned
exec banned_user.cfg
exec banned_ip.cfg
writeid
writeip

//# =======================================================================================
//#                              			Load Extensions
//# =======================================================================================

sm exts load dosprotect_mm

sm exts load dosprotect.ext.2.l4d2

sm exts load dosprotect

//# =======================================================================================
//#                              				Server Rates
//# =======================================================================================

//# Threading and Initialization
sm_cvar sv_stats 0
sm_cvar sv_threaded_init 1                       					//# Starts the server using threads during initialization.
sm_cvar sv_threaded_init_entities 1              				//# Allows entities to initialize using multiple threads.

//# Rate and Network Limits
sm_cvar sv_quota_stringcmdspersecond 999999      	//# Maximum allowed string commands per second.
sm_cvar sv_minrate 100000                        				//# Minimum "rate" value for clients.
sm_cvar sv_maxrate 100000                        				//# Maximum "rate" value for clients.
sm_cvar rate 100000                              					//# "Rate" value defining how much data is sent per second.
sm_cvar sv_minupdaterate 100                     				//# Minimum cl_updaterate, how often the client receives updates.
sm_cvar sv_maxupdaterate 100                     			//# Maximum cl_updaterate, how often the client receives updates.
sm_cvar sv_mincmdrate 100                        				//# Minimum cl_cmdrate, how many commands are sent per second by the client.
sm_cvar sv_maxcmdrate 100                        				//# Maximum cl_cmdrate, how many commands are sent per second by the client.
sm_cvar sv_client_min_interp_ratio -1            				//# Minimum value of cl_interp_ratio.
sm_cvar sv_client_max_interp_ratio 0             				//# Maximum value of cl_interp_ratio.

//# Local Command Limit
sm_cvar host_limitlocal 0                        					//# No limit on local host commands.

//# Gravity Settings
sm_cvar sv_gravity 750                           					//# Gravity adjusted for 100 tickrate servers.

//# Network Packet Configuration
sm_cvar net_splitrate "2"                        					//# Frequency of split packet updates.
sm_cvar net_splitpacket_maxrate 100000           			//# Maximum split packet rate. Recommended: Tickrate * 1000
sm_cvar net_maxfragments 1280                    			//# Maximum number of fragments per packet.
sm_cvar net_compresspackets 1                    			//# Enables packet compression.
sm_cvar net_compresspackets_minsize 2400      			//# Minimum size for packet compression.
sm_cvar sv_parallel_sendsnapshot 1               				//# Sends snapshots (state updates) in parallel.
sm_cvar sv_parallel_packentities 1               				//# Packs entities in parallel to improve performance.
	
//# Max seconds to wait before sending next packets based on rate. 
//# Lower values improve hit registration and reduce choke.
sm_cvar net_maxcleartime 0.0001

sm_cvar net_queued_packet_thread 1               			//# Uses threaded processing for packet queues.

// sm_cvar sv_enable_delta_packing 1             			//# (DISABLED) Functionality uncertain.

//# Ticks and Desynchronization
sm_cvar sv_alternateticks 1                      				//# Enables alternating ticks to optimize resources.
sm_cvar sv_unlag 1                               					//# Enables lag compensation (unlag).
sm_cvar sv_maxunlag 1                            					//# Number of seconds to store player positions for. Default (and maximum) is 1.
sm_cvar sv_unlag_fixstuck 1                    					//# Fixes stuck issues during lag compensation.
	
//# Common Infected
sm_cvar nb_update_frequency 0.014              			  	//# NPC update frequency.
sm_cvar nb_update_framelimit 100                 				//# Frame limit for NPC updates.
sm_cvar nb_update_maxslide 0                     				//# Maximum slide distance during NPC updates.
sm_cvar nb_friction_forward 0                    				//# NPC forward friction.
sm_cvar nb_friction_sideways 10                  				//# Fixes commons sliding like ice when turning corners.
sm_cvar nb_yaw_rate 800                          				//# Fixes witches not rotating if a player is meleeing them from behind.
sm_cvar z_max_neighbor_range 16                  			//# Maximum detection range between common infected.

//# =======================================================================================
//#                                			Hit Registration
//# =======================================================================================

//# Adjusts how much lag compensation is applied. Lower values reduce hitbox advantage for high-ping players 
//# but setting it below 15ms may cause stuttery or jittery movement.
sm_cvar sv_clockcorrection_msecs 25

//# ZONEMOD TWEAKING
sm_cvar sv_client_predict 1                  						//# This is already set on clients, but force them to predict.
sm_cvar sv_client_cmdrate_difference 0       				//# Remove the clamp.
sm_cvar sv_max_queries_sec_global 10
sm_cvar sv_max_queries_sec 3
sm_cvar sv_max_queries_window 10

//# =======================================================================================
//#                                			Tickrate Fixes
//# =======================================================================================

//# Fixes Boomer attack range at high tickrates
//# https://forums.alliedmods.net/showpost.php?p=2722708&postcount=166
//# Adds more velocity to boomer vomit
sm_cvar z_vomit_velocity 3400.0

sm_cvar tick_door_speed 1.3                						//# Door opening speed
sm_cvar sv_airaccelerate 12                						//# This is to compensate the bhop loss at lower tickrates

//# 0 - Use original function, 1 - Use extension implementation with fix, 2 - Use extension implementation without fix, 3 - Neither of calls
sm_cvar z_resolve_collision "1"

//# Listen server only
//# 0 - Disable collision overlay, 1 - Enable collision overlay, 2 - Enable clean collision overlay (works only for 1 common but smoother)
sm_cvar z_resolve_collision_debug "0"

//# 0 - Use original function, 1 - Use extension implementation
sm_cvar z_resolve_zombie_climb_up_ledge "1"

//# 0 - Disable debug, 1 - Enable debug
sm_cvar z_resolve_zombie_climb_up_ledge_debug "0"

//# 0 - Use original function; 1 - Use extension implementation
sm_cvar z_resolve_zombie_collision "1"

//# Multiplier of commons collision force
sm_cvar z_resolve_zombie_collision_multiplier "0.20" 

//# [l4d_fix_nextbot_collision.smx]
sm_cvar l4d_nextbot_collision_resolve_scale "0.13333333" // Def: "0.33333333"

sm_cvar z_dynamic_jump_chance 100
sm_cvar z_dynamic_jump_velocity 150.0

//# =======================================================================================
//#                                  		General & Fixes
//# =======================================================================================

sm_cvar pickup_incap_flags 0               		//# spitter, tank rock & tank hit, no incap get up
sm_cvar sm_rock_hitbox 0                   		//# Fixes unbreakable tank rock
sm_cvar bullet_ff_through_walls 1         		//# You can shoot allies through walls
sm_cvar car_alarm_distance 99999             //# Car alarm can be activated from any distance

sm_cvar mp_autoteambalance 0               //# Prevents some shuffling.

sm_cvar director_afk_timeout 15

//# l4d2_unsilent_jockey.smx
sm_cvar sm_unsilentjockey_enabled 1
sm_cvar sm_unsilentjockey_always 1
sm_cvar sm_unsilentjockey_time 0.1

sm_cvar boomer_horde_equalizer                1
sm_cvar boomer_horde_equalizer_events_default 1
sm_cvar z_notice_it_range                     950

//# 12 Common spawned for the 1st Survivor boomed + Wandering common in z_notice_it_range
boomer_horde_amount 1 12

//# 13 Common spawned for the 2nd Survivor boomed + Wandering common in z_notice_it_range
boomer_horde_amount 2 13

//# 10 Common spawned for the 3rd Survivor boomed + Wandering common in z_notice_it_range
boomer_horde_amount 3 10

//# 10 Common spawned for the 4th Survivor boomed + Wandering common in z_notice_it_range
boomer_horde_amount 4 10 

sm_cvar match_vote_delay 20

//# [l4d_grenade_throw.smx]
sm_cvar grenade_throw_windup_time 0.55
sm_cvar grenade_throw_delay 0.0

sm_cvar sv_accelerate 5.5
sm_cvar sv_friction 4

sm_say -=[Listenserver]=- Config Loaded Succefully










